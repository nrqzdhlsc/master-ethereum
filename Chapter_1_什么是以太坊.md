**世界计算机**。

> 以太坊可以看作是一个具有确定性，但是实际上没有边际的状态机。

### 1.两个特点

* 全球范围内可以访问的，单体状态
* 执行状态改变的虚拟机


### 2.区块链组件

- 点对点网络：连接参与各方，用于传播交易和区块数据包，gossip协议
- 消息，表示状态转换
- 共识规则，用于管理构成交易的内容和实现有效的状态转换
- 状态机，根据共识规则处理交易
- 串在一起的区块，用加密算法保护安全，区块是已验证和已接受的状态转换日志
- 共识算法：用于实现链上控制的去中心化
- 博弈合理的激励方案，如PoW
- 客户端实现，多种实现

### 3.以太坊的诞生

> 所有伟大的创新都是为了解决具体的问题。

区块链不应针对某个特定的目的，而应该通过实现可编程性来支持更广泛的应用类型。

免去开发者需要自己构建点对点网络，区块链，共识算法等 基础设施的麻烦。

### 4.以太坊组件

**点对点网络**

以太坊运行在TCP 30303端口寻址的网络上，协议名称为DVp2p.

**共识规则**
参考黄皮书。


**交易**
以太坊上的交易是一个网络消息，主要包含字段有：交易的发送方，接收方，价值和数据载荷。

**状态机**
EVM，基于栈的虚拟机，执行字节码指令。智能合约被编译为字节码后，在EVM上执行。

**数据结构**
数据库采用的是Google家的LevelDB，数据结构是Merkle Patricia Tree.

**共识算法**
基于PoW加权确定最长链。

**经济安全性**
基于Ethash的PoW算法，后续会切换到PoS。

**客户端**

以Geth和Parity两个为主。

### 5.什么是图灵完备？

以太坊本身是分布式单体状态世界计算机。

实现图灵不完备的系统，才需要足够的努力才能做到，图灵完备是很容易达到的状态。

最简单的状态机，都是满足图灵完备要求的。

### 6.图灵完备的隐含意义

人们无法咋计算机上通过模拟的方式来判断程序的执行是否终止。即，在程序真正运行之前，无法预测程序的执行路径。

所以，以太坊上用到了图灵完备的合约开发方式，就面临一个挑战：参与以太坊的节点必须验证每个交易 ，运行交易需要的合约，但以太坊无法判断合约是否会终止。

如果不解决这个问题，以太坊面临的是浪费全球的资源。

解决这个问题的方法就是：引入gas机制。

每个合约都需要指定gas上限，每种操作都有对应的gas计费机制。

如果合约运行时超过了gas上限，就会被EVM主动终止。

总结来说就是：以太坊通过gas机制 + 图灵完备计算来平衡。

### 7.Dapp的组成

至少包含两个部分:

- 智能合约
- Web前端用户界面

其他的去中心化组件：

- P2P的存储协议和平台，如IPFS, Gaia, Swarm
- P2P的消息协议和平台，Whisper等

### 8.互联网的第三次浪潮

Web 2.0 Since 2004

主要涉及到：

- 面向用户生成内容
- 响应式界面
- 交互性的Web革命

这不是技术标准，而是宽泛的描述特点的术语。


### 9.以太坊上的开发文化

激进，欢迎新特性，敢于冒险。

### 10.为什么学习以太坊？

涉及到多个领域：

- 编程
- 信息安全
- 密码学
- 经济学
- 分布式系统
- 点对点网络
- etc


### 参考资料

- [以太坊黄皮书](https://ethereum.github.io/yellowpaper/paper.pdf)
- [黄皮书的“浅黄”版本，这是面向普通读者、不含大量数学公式的黄皮书修订版](https://github.com/chronaeon/beigepaper)
- [DVp2p 网络协议](https://github.com/ethereum/wiki/wiki/%C3%90%CE%9EVp2p-Wire-Protocol)
- [以太坊虚拟机相关的精彩资源](https://github.com/ethereum/wiki/wiki/Ethereum-Virtual-Machine-(EVM)-Awesome-List)
- [LevelDB 数据库（用于在本地保存区块链数据的数据库服务）](http://leveldb.org)
- [Merkle Patricia Tree（MPT）规范](https://github.com/ethereum/wiki/wiki/Patricia-Tree)
- [Ethash 工作量证明算法](https://github.com/ethereum/wiki/wiki/Ethash)
- [Casper 权益证明第一版实现指导](https://github.com/ethereum/research/wiki/Casper-Version-1-Implementation-Guide)
- [Go-Ethereum（Geth）客户端](https://geth.ethereum.org)
- [Parity 以太坊客户端](https://parity.io)
